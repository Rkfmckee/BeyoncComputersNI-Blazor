@attribute [Route(PageUrl)]
@inherits Form

<EditForm EditContext="@EditContext" OnValidSubmit="@OnValidSubmit" OnInvalidSubmit="@OnInvalidSubmit">
    <DataAnnotationsValidator />

    <MudGrid Justify="Justify.Center">
        <MudItem xs="12" md="6">
            <MudPaper Class="mt-8 pa-8" Elevation="3">
                <MudText Typo="Typo.h1" Align="Align.Center" GutterBottom="true">Register</MudText>

                @if (HasErrors)
                {
                    <FormValidationErrors />
                }

                @if (Registering)
                {
                    <LoadingSpinner />
                }

                <EmailField @bind-Value="RegisterViewModel!.Email" For="@(() => RegisterViewModel!.Email)" />

                <PasswordField @bind-Value="RegisterViewModel!.Password" For="@(() => RegisterViewModel!.Password)" Class="mt-2" />

                <PasswordField @bind-Value="RegisterViewModel!.ConfirmPassword" For="@(() => RegisterViewModel!.ConfirmPassword)" Label="Confirm password" Class="mt-2" />

                <MudTextField @bind-Value="RegisterViewModel!.Name" For="@(() => RegisterViewModel!.Name)" Label="Name" Class="mt-2" />

                <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary" Class="mt-6" Disabled="@HasErrors">
                    Register
                </MudButton>
            </MudPaper>
        </MudItem>
    </MudGrid>
</EditForm>