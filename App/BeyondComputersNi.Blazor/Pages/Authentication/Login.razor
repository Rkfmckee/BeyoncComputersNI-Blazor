@attribute [Route(PageUrl)]

<EditForm EditContext="@EditContext" OnValidSubmit="@OnValidSubmit" OnInvalidSubmit="@OnInvalidSubmit">
    <DataAnnotationsValidator />

    <MudGrid Justify="Justify.Center">
        <MudItem xs="12" md="6">
            <MudPaper Class="mt-8 pa-8" Elevation="3">
                <MudText Typo="Typo.h1" Align="Align.Center">Login</MudText>

                @if (HasErrors)
                {
                    <FormValidationErrors />
                }

                @if (LoginErrorMessage is not null)
                {
                    <MudText Typo="Typo.body1" Align="Align.Center" Color="Color.Error">@LoginErrorMessage</MudText>
                }

                @if (LoginSuccessMessage is not null)
                {
                    <MudText Typo="Typo.body1" Align="Align.Center" Color="Color.Success">@LoginSuccessMessage</MudText>
                }

                <MudTextField @bind-Value="LoginViewModel!.Email" For="@(() => LoginViewModel!.Email)" Label="Email address" Class="mt-2" />

                <PasswordField @bind-Value="LoginViewModel!.Password" For="@(() => LoginViewModel!.Password)" Class="mt-2" />

                <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary" Class="mt-6" Disabled="@HasErrors">
                    Login
                </MudButton>
            </MudPaper>
        </MudItem>
    </MudGrid>
</EditForm>