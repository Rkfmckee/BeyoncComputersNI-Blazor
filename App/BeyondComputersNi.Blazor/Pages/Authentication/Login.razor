@using System.ComponentModel.DataAnnotations
@attribute [Route(PageUrl)]

<EditForm Model="@LoginViewModel" OnValidSubmit="@OnValidSubmit" OnInvalidSubmit="@OnInvalidSubmit">
    <DataAnnotationsValidator />

    <MudGrid Justify="Justify.Center">
        <MudItem xs="12" md="6">
            <MudPaper Class="mt-8 pa-8" Elevation="3">
                <MudText Typo="Typo.h1" Align="Align.Center">Login</MudText>

                @if (HasErrors)
                {
                    <MudPaper Class="pa-4 mud-height-full">
                        <MudText Typo="Typo.subtitle2">Please correct the following errors:</MudText>

                        <MudText Color="@Color.Error">
                            <ValidationSummary />
                        </MudText>
                    </MudPaper>
                }

                <MudTextField @bind-Value="LoginViewModel.Email" For="@(() => LoginViewModel.Email)" Label="Email address" Class="mt-2" />

                <MudTextField @bind-Value="LoginViewModel.Password" For="@(() => LoginViewModel.Password)" Label="Password" Class="mt-2"
                    InputType="@PasswordInputType" Adornment="Adornment.End" AdornmentIcon="@PasswordVisibilityIcon" 
                    OnAdornmentClick="@TogglePasswordVisibility" AdornmentAriaLabel="Show Password" />

                <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary" Class="mt-6">
                    Login
                </MudButton>
            </MudPaper>
        </MudItem>
    </MudGrid>
</EditForm>