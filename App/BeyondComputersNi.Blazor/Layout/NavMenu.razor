@using BeyondComputersNi.Blazor.Pages.Authentication
@using BeyondComputersNi.Blazor.Pages.Authentication.Login
@using BeyondComputersNi.Blazor.Pages.Authentication.Register
@using BeyondComputersNi.Blazor.Pages.BuildJourney
@using BeyondComputersNi.Blazor.Pages.Home

<MudNavMenu>
    <MudNavLink Href="@Home.PageUrl" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Home">Home</MudNavLink>
    <MudNavLink Href="@Build.PageUrl" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Computer">Start a Build</MudNavLink>

    <AuthorizeView>
        <Authorized>
            @{
                var name = @context?.User?.Identity?.Name ?? "User";
                var greetingMessage = $"Hello, {name}!";
            }

            <MudNavGroup Title="@greetingMessage" Expanded="true" Icon="@Icons.Material.Filled.Person">
                <MudNavLink Href="#" Match="NavLinkMatch.Prefix">My account</MudNavLink>
                <MudNavLink Href="@Logout.PageUrl" Match="NavLinkMatch.Prefix">Logout</MudNavLink>
            </MudNavGroup>
        </Authorized>
        <NotAuthorized>
            <MudNavGroup Title="Account" Expanded="true" Icon="@Icons.Material.Filled.Login">
                <MudNavLink Href="@Login.PageUrl" Match="NavLinkMatch.Prefix">Login</MudNavLink>
                <MudNavLink Href="@Register.PageUrl" Match="NavLinkMatch.Prefix">Register</MudNavLink>
            </MudNavGroup>
        </NotAuthorized>
    </AuthorizeView>
</MudNavMenu>